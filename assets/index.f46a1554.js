var S=Object.defineProperty;var b=(a,l,e)=>l in a?S(a,l,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[l]=e;var c=(a,l,e)=>(b(a,typeof l!="symbol"?l+"":l,e),e);const B=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function e(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerpolicy&&(i.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?i.credentials="include":t.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(t){if(t.ep)return;t.ep=!0;const i=e(t);fetch(t.href,i)}};B();class v extends HTMLDivElement{constructor(e){super();c(this,"value");c(this,"setFinished",()=>{this.className="array-element finished"});c(this,"setHighlighted",()=>{this.className="array-element highlighted"});c(this,"resetColor",()=>{this.className="array-element"});this.value=e,this.className="array-element standard",this.style.height=`${e.toString()}%`}}const u=async a=>new Promise(l=>{setTimeout(l,a)}),C={slow:50,medium:25,fast:0,undefined:0},H=7;class A extends HTMLDivElement{constructor(){super();c(this,"timeout");c(this,"insertBeforeArrayElement",(e,r)=>{this.insertBefore(this.children[e],this.children[r])});c(this,"insertAfterArrayElement",(e,r)=>{this.insertBefore(this.children[e],this.children[r+1])});c(this,"swapWithLowerArrayElement",e=>{this.insertBefore(this.children[e],this.children[e-1])});c(this,"swapArrayElements",(e,r)=>{const t=this.children[e],i=this.children[r],n=document.createElement("div"),o=document.createElement("div");this.replaceChild(n,t),this.replaceChild(o,i),this.replaceChild(i,n),this.replaceChild(t,o)});c(this,"resetColors",()=>{for(let e=0;e<this.children.length;e++)this.children[e].resetColor()});c(this,"bubbleSort",async()=>{this.children[0].setHighlighted();for(let t=this.children.length;t>1;t--){for(let i=0;i<t-1;i++){const n=this.children[i],o=this.children[i+1];o.value<n.value?this.swapWithLowerArrayElement(i+1):(n.resetColor(),o.setHighlighted()),await u(this.timeout)}this.children[t-1].setFinished()}this.children[0].setFinished()});c(this,"mergeSort",async()=>{const e=async(t,i,n)=>{let o=i,s=t,d=i+1;for(;s<=o&&d<=n;){const h=this.children[s],m=this.children[d];h.setHighlighted(),m.setHighlighted(),await u(this.timeout),h.value<=m.value?s++:(this.insertBeforeArrayElement(d,s),d++,s++,o++),h.resetColor(),m.resetColor(),t===0&&n===this.children.length-1&&this.children[s-1].setFinished()}if(t===0&&n===this.children.length-1){for(;d<this.children.length;d++)this.children[d].setFinished();for(;s<this.children.length;s++)this.children[s].setFinished()}},r=async(t,i)=>{if(t<i){const n=Math.floor((t+i)/2);await r(t,n),await r(n+1,i),await e(t,n,i)}};await r(0,this.children.length-1)});c(this,"insertionSort",async()=>{for(let e=1;e<this.children.length;e++){const r=this.children[e];r.setHighlighted();let t=e;do{await u(this.timeout);const i=this.children[t-1];if(r.value>i.value)break;this.swapWithLowerArrayElement(t),t--}while(t>0);r.resetColor()}for(let e=0;e<this.children.length;e++)this.children[e].setFinished(),await u(H)});c(this,"selectionSort",async()=>{for(let e=0;e<this.children.length-1;e++){let r=e,t=this.children[e].value;this.children[e].setHighlighted();for(let i=e+1;i<this.children.length;i++)this.children[i].value<=t&&(this.children[r].resetColor(),this.children[i].setHighlighted(),r=i,t=this.children[i].value,await u(this.timeout));r!==e&&(this.swapArrayElements(e,r),await u(this.timeout)),this.children[e].setFinished()}this.children[this.children.length-1].setFinished()});c(this,"quickSort",async()=>{const e=(i,n)=>Math.floor((i+n)/2),r=async(i,n,o)=>{let s=n;const d=this.children[s].value;for(let h=i;h<s;h++)if(this.children[h].value>d){const m=this.children[h];m.setHighlighted(),await u(this.timeout),this.insertAfterArrayElement(h,s),m.resetColor(),s--,h--}for(let h=s+1;h<=o;h++)if(this.children[h].value<d){const m=this.children[h];m.setHighlighted(),await u(this.timeout),this.insertBeforeArrayElement(h,s),m.resetColor(),s++}return s},t=async(i,n)=>{let o=e(i,n);if(this.children[o].setHighlighted(),o=await r(i,o,n),this.children[o].resetColor(),i<o-1)await t(i,o-1);else for(let s=i-1;s<=o;s++)s>=0&&this.children[s].setFinished();if(n>o+1)await t(o+1,n);else for(let s=o;s<=n+1;s++)s<this.children.length&&this.children[s].setFinished()};await t(0,this.children.length-1)});c(this,"doAlgorithm",async e=>{const r={insertionSort:this.insertionSort,selectionSort:this.selectionSort,bubbleSort:this.bubbleSort,quickSort:this.quickSort,mergeSort:this.mergeSort,undefined:void 0};this.resetColors();const t=r[e];t&&await t()});this.id="visualizer",this.timeout=0}generateArray(e){this.innerHTML="";const r=Array.from({length:e},()=>new v(Math.floor(Math.random()*100)+1));for(const t of r)this.append(t)}setSpeed(e){this.timeout=C[e]}}customElements.define("please-do-not-use",v,{extends:"div"});customElements.define("please-do-not-use-either",A,{extends:"div"});const L=document.getElementById("app"),N=document.getElementById("startButton"),g=document.getElementsByName("algorithm"),w=document.getElementById("arraySize"),E=document.getElementsByName("speed"),p=document.getElementById("toolbar"),F=document.getElementById("generateArrayButton"),y=new A;L.appendChild(y);const f=()=>parseInt(w.value,10);y.generateArray(f());const k=()=>{for(let a=0;a<E.length;a++){const l=E[a];if(l.checked)return l.value}return"undefined"},M=()=>{for(let a=0;a<g.length;a++){const l=g[a];if(l.checked)return l.value}return"undefined"};N.addEventListener("click",async()=>{p.className="disabled",y.setSpeed(k()),await y.doAlgorithm(M()),p.className=""});w.addEventListener("input",()=>{y.generateArray(f())});F.addEventListener("click",()=>{y.generateArray(f())});
